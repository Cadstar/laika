<h5>Advance Directive</h5>
<table>
<% if advance_directive -%>
  <%= view_row advance_directive, :advance_directive_type %>
  <%= view_row advance_directive, :free_text %>
  <%= view_row advance_directive, :start_effective_time %>
  <%= view_row advance_directive, :end_effective_time %>
  <%= render :partial => '/person_names/show', :locals => {:person_name => advance_directive.person_name}%>
  <%= render :partial => '/addresses/show', :locals => {:address => advance_directive.address}%>
  <%= render :partial => '/telecoms/show', :locals => {:telecom => advance_directive.telecom}%>
  <%= view_row advance_directive, :advance_directive_status_code %>
  <% if @patient.editable_by? current_user -%>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td></td>
    <td>
      <%= link_to_remote 'Edit',
        :update => {:success => 'advanceDirectiveContainer'}, 
        :url => edit_patient_advance_directive_path(patient),
        :method => 'get' %>
      <%= link_to_remote 'Remove',
        :update => {:success => 'advanceDirectiveContainer'}, 
        :url => patient_advance_directive_path(patient),	
        :confirm=>"Are you sure you wish to remove this advance directive?",
        :method => 'delete' %>
    </td>
  </tr>
<% end -%>
<% else -%>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td class="lighttext">There is no advance directive data for this test case</td>
    <td><%= link_to_remote 'Create some',
      :update => {:success => 'advanceDirectiveContainer'},
      :url => new_patient_advance_directive_path(patient),
      :method => 'get' %>
    </td>
  </tr>
<% end -%>
</table>
